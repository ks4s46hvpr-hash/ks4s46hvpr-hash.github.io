<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´ºå¡é“¾æ¥ç”Ÿæˆå™¨</title>
    <style>
        /* æ°´å°èƒŒæ™¯å±‚ */
        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; /* æ”¾åœ¨è¾“å…¥æ¡†åé¢ */
            pointer-events: none; /* ç¡®ä¿ä¸é˜»ç¢ç‚¹å‡»è¾“å…¥ */
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org' width='200' height='200' viewBox='0 0 200 200'%3E%3Ctext x='50%25' y='50%25' dy='.35em' fill='rgba(200, 200, 200, 0.15)' font-size='12' font-family='sans-serif' text-anchor='middle' transform='rotate(-35, 100, 100)'%3Eåˆ¶ä½œxyx@zjqc ä»…ä¾›æ˜¥èŠ‚ä¼ä¸šé—®å€™ä½¿ç”¨%3C/text%3E%3C/svg%3E");
            background-repeat: repeat;
        }

        body { 
            font-family: 'PingFang SC', sans-serif; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: #fffafa; 
        }

        .box { 
            background: rgba(255, 255, 255, 0.95); 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); 
            text-align: center; 
            width: 320px; 
            border: 1px solid #fee;
        }

        h2 { color: #d63031; margin-bottom: 20px; font-size: 22px; }
        .input-group { margin-bottom: 15px; text-align: left; }
        label { font-size: 12px; color: #999; margin-left: 5px; }
        
        input { 
            padding: 12px; width: 90%; margin-top: 5px; 
            border: 2px solid #ffcfcf; border-radius: 8px; 
            outline: none; transition: 0.3s; 
        }
        input:focus { border-color: #ff4757; box-shadow: 0 0 8px rgba(255,71,87,0.2); }
        
        button { 
            padding: 12px; background: #ff4757; color: white; 
            border: none; border-radius: 8px; cursor: pointer; 
            font-weight: bold; width: 100%; margin-top: 10px; font-size: 16px; 
        }
        button:hover { background: #ff5e6c; }

        #result { 
            margin-top: 20px; word-break: break-all; color: #666; 
            font-size: 13px; line-height: 1.5; background: #fdfdfd; 
            padding: 10px; border-radius: 5px; border: 1px dashed #ddd; 
            display: none;
        }

        .footer { margin-top: 20px; font-size: 12px; color: #ccc; }
    </style>
</head>
<body>
    <div class="box">
        <h2>ğŸ§§ è´ºå¡ç”Ÿæˆå·¥å…·</h2>
        <div class="input-group">
            <label>å®¢æˆ·å§“å</label>
            <input type="text" id="custName" placeholder="ä¾‹å¦‚ï¼šå¼ ç»ç†">
        </div>
        <div class="input-group">
            <label>æ˜¾ç¤ºæ—¥æœŸ (å¯æ‰‹åŠ¨ä¿®æ”¹)</label>
            <input type="text" id="custDate" placeholder="ä¾‹å¦‚ï¼šäºŒã€‡äºŒäº”å¹´å…ƒå®µ">
        </div>
        <button onclick="make()">ç”Ÿæˆå¹¶å¤åˆ¶é“¾æ¥</button>
        <div id="result" id="linkBox"></div>
        <div class="footer">åˆ¶ä½œxyx@zjqc</div>
    </div>

    <script>
        // é»˜è®¤åˆå§‹åŒ–ä»Šå¤©æ—¥æœŸ
        const today = new Date();
        document.getElementById('custDate').value = `${today.getFullYear()}å¹´${today.getMonth()+1}æœˆ${today.getDate()}æ—¥`;

        function make() {
            const name = document.getElementById('custName').value;
            const date = document.getElementById('custDate').value;
            
            if(!name) return alert('è¯·è¾“å…¥å®¢æˆ·å§“å');
            
            const currentDir = window.location.href.substring(0, window.location.href.lastIndexOf('/') + 1);
            const finalUrl = `${currentDir}card.html?n=${encodeURIComponent(name)}&d=${encodeURIComponent(date)}`;
            
            const resDiv = document.getElementById('result');
            resDiv.style.display = 'block';
            resDiv.innerHTML = `<strong>é“¾æ¥å·²ç”Ÿæˆå¹¶è‡ªåŠ¨å¤åˆ¶ï¼š</strong><br>${finalUrl}`;
            
            // å¤åˆ¶é€»è¾‘
            const el = document.createElement('textarea');
            el.value = finalUrl;
            document.body.appendChild(el);
            el.select();
            document.execCommand('copy');
            document.body.removeChild(el);
            
            alert('å¤åˆ¶æˆåŠŸï¼å¯ä»¥å‘é€ç»™å®¢æˆ·äº†ã€‚');
        }
    </script>
</body>
</html>
